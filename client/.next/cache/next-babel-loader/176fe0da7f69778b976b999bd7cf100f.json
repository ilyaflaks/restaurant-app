{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/* /pages/register.js */\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Container, Row, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport { registerUser } from \"../components/auth\";\nimport AppContext from \"../components/context\"; ////MY FIREBASE CODDE\n\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { auth } from \"../components/firebase-config\"; ////END MY FIREBASE CODDE\n\nconst Register = () => {\n  // const [data, setData] = useState({ email: \"\", username: \"\", password: \"\" });\n  ////from tutorial\n  const {\n    0: registerUsername,\n    1: setRegisterUsername\n  } = useState(\"\");\n  const {\n    0: registerEmail,\n    1: setRegisterEmail\n  } = useState(\"\");\n  const {\n    0: registerPassword,\n    1: setRegisterPassword\n  } = useState(\"\");\n  const {\n    0: loginEmail,\n    1: setLoginEmail\n  } = useState(\"\");\n  const {\n    0: loginPassword,\n    1: setLoginPassword\n  } = useState(\"\");\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n  const {\n    0: success,\n    1: setSuccess\n  } = useState(\"false\");\n  const {\n    0: showForm,\n    1: setShowForm\n  } = useState(true); ////\n\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState({});\n  const appContext = useContext(AppContext);\n\n  const register = async () => {\n    try {\n      const user = await createUserWithEmailAndPassword(auth, registerEmail, registerPassword);\n      console.log(\"user who just registered: \");\n      console.log(user);\n      setErrorMsg(\"\");\n      setShowForm(false); //     setSuccess(true);\n    } catch (error) {\n      console.log(error.message);\n      setErrorMsg(error.message);\n    }\n  };\n\n  return __jsx(Container, null, __jsx(Row, null, __jsx(Col, {\n    sm: \"12\",\n    md: {\n      size: 5,\n      offset: 3\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1470127334\" + \" \" + \"paper\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1470127334\" + \" \" + \"header\"\n  }, __jsx(\"h2\", {\n    style: {\n      paddingTop: 30,\n      paddingLeft: 30\n    },\n    className: \"jsx-1470127334\"\n  }, \"Sign Up\")), __jsx(\"section\", {\n    className: \"jsx-1470127334\" + \" \" + \"wrapper\"\n  }, Object.entries(error).length !== 0 && error.constructor === Object && error.message.map(error => {\n    return __jsx(\"div\", {\n      key: error.messages[0].id,\n      style: {\n        marginBottom: 10\n      },\n      className: \"jsx-1470127334\"\n    }, __jsx(\"small\", {\n      style: {\n        color: \"red\"\n      },\n      className: \"jsx-1470127334\"\n    }, error.messages[0].message));\n  }), __jsx(Form, null, showForm ? __jsx(\"fieldset\", {\n    disabled: loading,\n    className: \"jsx-1470127334\"\n  }, __jsx(FormGroup, null, __jsx(Label, null, \"Username:\"), __jsx(Input, {\n    disabled: loading // onChange={(e) =>\n    //   setData({ ...data, username: e.target.value })\n    // }\n    // value={data.username}\n    ,\n    onChange: event => {\n      setRegisterUsername(event.target.value);\n      console.log(\"event.target.value: \" + event.target.value);\n      console.log(\"registerEmail: \" + registerUsername);\n    },\n    value: registerUsername,\n    type: \"text\",\n    name: \"username\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    }\n  })), __jsx(FormGroup, null, __jsx(Label, null, \"Email:\"), __jsx(Input // onChange={(e) =>\n  //   setData({ ...data, email: e.target.value })\n  // }\n  // value={data.email}\n  , {\n    onChange: event => {\n      setRegisterEmail(event.target.value);\n      console.log(\"event.target.value: \" + event.target.value);\n      console.log(\"registerEmail: \" + registerEmail);\n    },\n    value: registerEmail,\n    type: \"email\",\n    name: \"email\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    }\n  })), __jsx(FormGroup, {\n    style: {\n      marginBottom: 30\n    }\n  }, __jsx(Label, null, \"Password:\"), __jsx(Input // onChange={(e) =>\n  //   setData({ ...data, password: e.target.value })\n  // }\n  // value={data.password}\n  , {\n    onChange: event => {\n      setRegisterPassword(event.target.value);\n      console.log(\"event.target.value: \" + event.target.value);\n      console.log(\"registerEmail: \" + registerPassword);\n    },\n    value: registerPassword //\n    ,\n    type: \"password\",\n    name: \"password\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    }\n  })), __jsx(FormGroup, null, __jsx(Button, {\n    style: {\n      float: \"right\",\n      width: 120\n    },\n    color: \"primary\",\n    disabled: loading,\n    onClick: register //setLoading(true);\n    // registerUser(data.username, data.email, data.password)\n    //   .then((res) => {\n    //     console.log(\"registerUser func called\");\n    //     // set authed user in global context object\n    //     console.log(\n    //       data.username,\n    //       data.email,\n    //       data.password\n    //     );\n    //     console.log(\"res.data.user\");\n    //     console.log(res.data.user);\n    //     appContext.setUser(res.data.user);\n    //     console.log(\"appContext: \");\n    //     console.log(appContext);\n    //     console.log(\"user: \" + appContext.user);\n    //     setLoading(false);\n    //     console.log(\n    //       `registered user: ${JSON.stringify(res.data)}`\n    //     );\n    //   })\n    // .catch((error) => {\n    //   console.log(`error in register: ${error}`);\n    //   //setError(error.response.data);\n    //   setLoading(false);\n    // });\n    //   }}\n\n  }, loading ? \"Loading..\" : \"Submit\"))) : __jsx(\"div\", {\n    className: \"jsx-1470127334\"\n  }, __jsx(\"h4\", {\n    className: \"jsx-1470127334\"\n  }, \"Thank you for signing up! \"), __jsx(\"h5\", {\n    className: \"jsx-1470127334\"\n  }, \"An account has been created for \", registerEmail))), errorMsg && __jsx(\"h4\", {\n    className: \"jsx-1470127334\"\n  }, errorMsg))))), __jsx(_JSXStyle, {\n    id: \"1470127334\"\n  }, [\".paper.jsx-1470127334{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);border-radius:6px;margin-top:90px;}\", \".notification.jsx-1470127334{color:#ab003c;}\", \".header.jsx-1470127334{width:100%;height:120px;background-color:#2196f3;margin-bottom:30px;border-radius-top:6px;}\", \".wrapper.jsx-1470127334{padding:10px 30px 20px 30px !important;}\", \"a.jsx-1470127334{color:blue !important;}\", \"img.jsx-1470127334{margin:15px 30px 10px 50px;}\"]));\n};\n\nexport default Register;","map":null,"metadata":{},"sourceType":"module"}