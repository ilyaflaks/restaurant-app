{"ast":null,"code":"var _jsxFileName = \"/Users/ilyaflaks/Desktop/Boot Camps/MIT xPro/back-end-part3/Restauraunt-App/app/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Container, Row, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\"; //import { login } from \"../components/auth\";\n\nimport AppContext from \"../components/context\";\nimport { signInWithEmailAndPassword, onAuthStateChanged, signOut, GoogleAuthProvider, signInWithPopup, getAuth, signInWithRedirect, getRedirectResult } from \"firebase/auth\"; //import firebase from \"firebase/app\";\n////this works for log in with email and pw.Commented out for now\n//import { auth } from \"../components/firebase-config\";\n\nfunction Login(props) {\n  const {\n    0: data,\n    1: updateData\n  } = useState({\n    identifier: \"\",\n    password: \"\"\n  });\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  const router = useRouter();\n  const appContext = useContext(AppContext);\n  const {\n    0: loginEmail,\n    1: setLoginEmail\n  } = useState(\"\");\n  const {\n    0: loginPassword,\n    1: setLoginPassword\n  } = useState(\"\");\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n  const {\n    0: success,\n    1: setSuccess\n  } = useState(\"false\");\n  const {\n    0: showForm,\n    1: setShowForm\n  } = useState(true); // useEffect(() => {\n  //   if (appContext.isAuthenticated) {\n  //     router.push(\"/\"); // redirect if you're already logged in\n  //   }\n  // }, []);\n\n  const {\n    user,\n    setUser,\n    isAuthenticated\n  } = appContext;\n  const auth = getAuth();\n  onAuthStateChanged(auth, currentUser => {\n    console.log(\"something changed in Auth State\");\n    setUser(currentUser);\n  });\n\n  const authenticate = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\n      console.log(\"inside try block, things are good\");\n      console.log(user);\n      setErrorMsg(\"\");\n      setShowForm(false);\n    } catch (error) {\n      console.log(\"inside catch block, things are bad\");\n      console.log(error.message);\n      setErrorMsg(error.message);\n    }\n  };\n\n  const provider = new GoogleAuthProvider(); //  const authApp = getAuth();\n  // if (typeof window !== \"undefined\") {\n  //   // browser code\n  //   window.dataLayer = window.dataLayer || [];\n  //   function gtag() {\n  //     dataLayer.push(arguments);\n  //   }\n  //   gtag(\"js\", new Date());\n  //   gtag(\"config\", \"OUR_GA_ID\", { cookie_flags: \"SameSite=None;Secure\" });\n  // }\n\n  const loginWithGoogle = () => {\n    signInWithRedirect(auth, provider);\n    getRedirectResult(auth).then(result => {\n      console.log(\"Inside then block\"); // This gives you a Google Access Token. You can use it to access Google APIs.\n\n      const credential = GoogleAuthProvider.credentialFromResult(result);\n      const token = credential.accessToken; // The signed-in user info.\n\n      const user = result.user;\n    }).catch(error => {\n      console.log(\"Inside catch block\"); // Handle Errors here.\n\n      const errorCode = error.code;\n      const errorMessage = error.message; // The email of the user's account used.\n\n      const email = error.customData.email; // The AuthCredential type that was used.\n\n      const credential = GoogleAuthProvider.credentialFromError(error); // ...\n    }); //version 3, my fav\n    // signInWithPopup(auth, provider)\n    //   .then((result) => {\n    //     console.log(\"Inside then block\");\n    //     // This gives you a Google Access Token. You can use it to access the Google API.\n    //     const credential = GoogleAuthProvider.credentialFromResult(result);\n    //     console.log(\"Icredential\");\n    //     console.log(credential);\n    //     const token = credential.accessToken;\n    //     console.log(\"token\");\n    //     console.log(token);\n    //     // The signed-in user info.\n    //     const user = result.user;\n    //     console.log(\"user\");\n    //     console.log(user);\n    //     // ...\n    //   })\n    //   .catch((error) => {\n    //     console.log(\"Inside the catch block\");\n    //     // Handle Errors here.\n    //     const errorCode = error.code;\n    //     const errorMessage = error.message;\n    //     // The email of the user's account used.\n    //     const email = error.customData.email;\n    //     // The AuthCredential type that was used.\n    //     const credential = GoogleAuthProvider.credentialFromError(error);\n    //     // ...\n    //   });\n    /////\n    ////version 1 from you toob\n    // firebase\n    //   .auth()\n    //   .signInWithPopup(new firebase.auth.GoogleAuthProvider())\n    //   .then((userCred) => {\n    //     if (userCred) {\n    //       setAuth(true);\n    //       window.localStorage.setItem(\"auth\", \"true\");\n    //     }\n    //   });\n    ////Version 2\n    // signInWithPopup(auth, provider)\n    //   .then((result) => {\n    //     console.error(\"In then block of google auth\");\n    //     // This gives you a Google Access Token. You can use it to access the Google API.\n    //     const credential = GoogleAuthProvider.credentialFromResult(result);\n    //     const token = credential.accessToken;\n    //     // The signed-in user info.\n    //     const user = result.user;\n    //     console.log(\"google user: \", user);\n    //   })\n    //   .catch((error) => {\n    //     // Handle Errors here.\n    //     console.error(\"In catch block of google auth\");\n    //     console.error(error);\n    //   });\n  };\n\n  const logout = async () => {\n    await signOut(auth);\n    setShowForm(true);\n  };\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    sm: \"12\",\n    md: {\n      size: 5,\n      offset: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1470127334\" + \" \" + \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1470127334\" + \" \" + \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      paddingTop: 30,\n      paddingLeft: 30\n    },\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, \"Log In\")), __jsx(\"section\", {\n    className: \"jsx-1470127334\" + \" \" + \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, Object.entries(error).length !== 0 && error.constructor === Object && error.message.map(error => {\n    return __jsx(\"div\", {\n      key: error.messages[0].id,\n      style: {\n        marginBottom: 10\n      },\n      className: \"jsx-1470127334\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, __jsx(\"small\", {\n      style: {\n        color: \"red\"\n      },\n      className: \"jsx-1470127334\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, error.messages[0].message));\n  }), showForm ? __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, __jsx(\"fieldset\", {\n    disabled: loading,\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 23\n    }\n  }, \"Email:\"), __jsx(Input // onChange={(event) => onChange(event)}\n  , {\n    onChange: event => {\n      setLoginEmail(event.target.value);\n    },\n    name: \"identifier\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 23\n    }\n  })), __jsx(FormGroup, {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 21\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 23\n    }\n  }, \"Password:\"), __jsx(Input // onChange={(event) => onChange(event)}\n  , {\n    onChange: event => {\n      setLoginPassword(event.target.value);\n    },\n    type: \"password\",\n    name: \"password\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  })), __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    style: {\n      float: \"right\",\n      width: 120\n    },\n    color: \"primary\",\n    onClick: authenticate // onClick={() => {\n    //   setLoading(true);\n    //   login(data.identifier, data.password)\n    //     .then((res) => {\n    //       setLoading(false);\n    //       console.log(\"In login Button. res.data.user: \");\n    //       console.log(res.data.user);\n    //       // set authed User in global context to update header/app state\n    //       appContext.setUser(res.data.user);\n    //     })\n    //     .catch((error) => {\n    //       console.log(\n    //         \"login fun catch block, something is wrong: \"\n    //       );\n    //       console.log(error);\n    //       //setError(error.response.data);\n    //       setLoading(false);\n    //     });\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 23\n    }\n  }, \"Submit\"), __jsx(\"button\", {\n    onClick: loginWithGoogle,\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 23\n    }\n  }, \"Login with Google\")))) : __jsx(\"div\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, __jsx(\"h4\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 19\n    }\n  }, \"Thank you for logging in! \"), __jsx(\"h5\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 19\n    }\n  }, \"You are now signed in as \", loginEmail), __jsx(Button // style={{ float: \"right\", width: 120 }}\n  , {\n    color: \"primary\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 19\n    }\n  }, \"Log Out\")), errorMsg && __jsx(\"h4\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 28\n    }\n  }, errorMsg))))), __jsx(_JSXStyle, {\n    id: \"1470127334\",\n    __self: this\n  }, \".paper.jsx-1470127334{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);border-radius:6px;margin-top:90px;}.notification.jsx-1470127334{color:#ab003c;}.header.jsx-1470127334{width:100%;height:120px;background-color:#2196f3;margin-bottom:30px;border-radius-top:6px;}.wrapper.jsx-1470127334{padding:10px 30px 20px 30px !important;}a.jsx-1470127334{color:blue !important;}img.jsx-1470127334{margin:15px 30px 10px 50px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pbHlhZmxha3MvRGVza3RvcC9Cb290IENhbXBzL01JVCB4UHJvL2JhY2stZW5kLXBhcnQzL1Jlc3RhdXJhdW50LUFwcC9hcHAvcGFnZXMvbG9naW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMFJTLEFBR3dDLEFBUWIsQUFHSCxBQU80QixBQUdqQixBQUdLLFdBWmQsR0FIZixRQWFBLEVBVDJCLEdBVmEsQUFzQnhDLFlBTkEsVUFMcUIsbUJBQ0csc0JBQ3hCLGlEQVpvQixrQkFDRixnQkFDbEIiLCJmaWxlIjoiL1VzZXJzL2lseWFmbGFrcy9EZXNrdG9wL0Jvb3QgQ2FtcHMvTUlUIHhQcm8vYmFjay1lbmQtcGFydDMvUmVzdGF1cmF1bnQtQXBwL2FwcC9wYWdlcy9sb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCB7XG4gIENvbnRhaW5lcixcbiAgUm93LFxuICBDb2wsXG4gIEJ1dHRvbixcbiAgRm9ybSxcbiAgRm9ybUdyb3VwLFxuICBMYWJlbCxcbiAgSW5wdXQsXG59IGZyb20gXCJyZWFjdHN0cmFwXCI7XG4vL2ltcG9ydCB7IGxvZ2luIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYXV0aFwiO1xuaW1wb3J0IEFwcENvbnRleHQgZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIG9uQXV0aFN0YXRlQ2hhbmdlZCxcbiAgc2lnbk91dCxcbiAgR29vZ2xlQXV0aFByb3ZpZGVyLFxuICBzaWduSW5XaXRoUG9wdXAsXG4gIGdldEF1dGgsXG4gIHNpZ25JbldpdGhSZWRpcmVjdCxcbiAgZ2V0UmVkaXJlY3RSZXN1bHQsXG59IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG4vL2ltcG9ydCBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG5cbi8vLy90aGlzIHdvcmtzIGZvciBsb2cgaW4gd2l0aCBlbWFpbCBhbmQgcHcuQ29tbWVudGVkIG91dCBmb3Igbm93XG4vL2ltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi4vY29tcG9uZW50cy9maXJlYmFzZS1jb25maWdcIjtcblxuZnVuY3Rpb24gTG9naW4ocHJvcHMpIHtcbiAgY29uc3QgW2RhdGEsIHVwZGF0ZURhdGFdID0gdXNlU3RhdGUoeyBpZGVudGlmaWVyOiBcIlwiLCBwYXNzd29yZDogXCJcIiB9KTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGFwcENvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICBjb25zdCBbbG9naW5FbWFpbCwgc2V0TG9naW5FbWFpbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2xvZ2luUGFzc3dvcmQsIHNldExvZ2luUGFzc3dvcmRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlcnJvck1zZywgc2V0RXJyb3JNc2ddID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzdWNjZXNzLCBzZXRTdWNjZXNzXSA9IHVzZVN0YXRlKFwiZmFsc2VcIik7XG4gIGNvbnN0IFtzaG93Rm9ybSwgc2V0U2hvd0Zvcm1dID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICBpZiAoYXBwQ29udGV4dC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgLy8gICAgIHJvdXRlci5wdXNoKFwiL1wiKTsgLy8gcmVkaXJlY3QgaWYgeW91J3JlIGFscmVhZHkgbG9nZ2VkIGluXG4gIC8vICAgfVxuICAvLyB9LCBbXSk7XG5cbiAgY29uc3QgeyB1c2VyLCBzZXRVc2VyLCBpc0F1dGhlbnRpY2F0ZWQgfSA9IGFwcENvbnRleHQ7XG4gIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAoY3VycmVudFVzZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInNvbWV0aGluZyBjaGFuZ2VkIGluIEF1dGggU3RhdGVcIik7XG4gICAgc2V0VXNlcihjdXJyZW50VXNlcik7XG4gIH0pO1xuXG4gIGNvbnN0IGF1dGhlbnRpY2F0ZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKFxuICAgICAgICBhdXRoLFxuICAgICAgICBsb2dpbkVtYWlsLFxuICAgICAgICBsb2dpblBhc3N3b3JkXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgdHJ5IGJsb2NrLCB0aGluZ3MgYXJlIGdvb2RcIik7XG5cbiAgICAgIGNvbnNvbGUubG9nKHVzZXIpO1xuICAgICAgc2V0RXJyb3JNc2coXCJcIik7XG4gICAgICBzZXRTaG93Rm9ybShmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGNhdGNoIGJsb2NrLCB0aGluZ3MgYXJlIGJhZFwiKTtcblxuICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICBzZXRFcnJvck1zZyhlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gIC8vICBjb25zdCBhdXRoQXBwID0gZ2V0QXV0aCgpO1xuXG4gIC8vIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIC8vICAgLy8gYnJvd3NlciBjb2RlXG5cbiAgLy8gICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcbiAgLy8gICBmdW5jdGlvbiBndGFnKCkge1xuICAvLyAgICAgZGF0YUxheWVyLnB1c2goYXJndW1lbnRzKTtcbiAgLy8gICB9XG4gIC8vICAgZ3RhZyhcImpzXCIsIG5ldyBEYXRlKCkpO1xuXG4gIC8vICAgZ3RhZyhcImNvbmZpZ1wiLCBcIk9VUl9HQV9JRFwiLCB7IGNvb2tpZV9mbGFnczogXCJTYW1lU2l0ZT1Ob25lO1NlY3VyZVwiIH0pO1xuICAvLyB9XG4gIGNvbnN0IGxvZ2luV2l0aEdvb2dsZSA9ICgpID0+IHtcbiAgICBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICAgIGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5zaWRlIHRoZW4gYmxvY2tcIik7XG4gICAgICAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR29vZ2xlIEFjY2VzcyBUb2tlbi4gWW91IGNhbiB1c2UgaXQgdG8gYWNjZXNzIEdvb2dsZSBBUElzLlxuICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcblxuICAgICAgICAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJbnNpZGUgY2F0Y2ggYmxvY2tcIik7XG4gICAgICAgIC8vIEhhbmRsZSBFcnJvcnMgaGVyZS5cbiAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgLy8gVGhlIGVtYWlsIG9mIHRoZSB1c2VyJ3MgYWNjb3VudCB1c2VkLlxuICAgICAgICBjb25zdCBlbWFpbCA9IGVycm9yLmN1c3RvbURhdGEuZW1haWw7XG4gICAgICAgIC8vIFRoZSBBdXRoQ3JlZGVudGlhbCB0eXBlIHRoYXQgd2FzIHVzZWQuXG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcik7XG4gICAgICAgIC8vIC4uLlxuICAgICAgfSk7XG4gICAgLy92ZXJzaW9uIDMsIG15IGZhdlxuICAgIC8vIHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcilcbiAgICAvLyAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAvLyAgICAgY29uc29sZS5sb2coXCJJbnNpZGUgdGhlbiBibG9ja1wiKTtcbiAgICAvLyAgICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlIEdvb2dsZSBBUEkuXG4gICAgLy8gICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAgICAvLyAgICAgY29uc29sZS5sb2coXCJJY3JlZGVudGlhbFwiKTtcbiAgICAvLyAgICAgY29uc29sZS5sb2coY3JlZGVudGlhbCk7XG4gICAgLy8gICAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAgICAvLyAgICAgY29uc29sZS5sb2coXCJ0b2tlblwiKTtcbiAgICAvLyAgICAgY29uc29sZS5sb2codG9rZW4pO1xuICAgIC8vICAgICAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAgICAvLyAgICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICAgIC8vICAgICBjb25zb2xlLmxvZyhcInVzZXJcIik7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKHVzZXIpO1xuICAgIC8vICAgICAvLyAuLi5cbiAgICAvLyAgIH0pXG4gICAgLy8gICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiSW5zaWRlIHRoZSBjYXRjaCBibG9ja1wiKTtcbiAgICAvLyAgICAgLy8gSGFuZGxlIEVycm9ycyBoZXJlLlxuICAgIC8vICAgICBjb25zdCBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xuICAgIC8vICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgIC8vICAgICAvLyBUaGUgZW1haWwgb2YgdGhlIHVzZXIncyBhY2NvdW50IHVzZWQuXG4gICAgLy8gICAgIGNvbnN0IGVtYWlsID0gZXJyb3IuY3VzdG9tRGF0YS5lbWFpbDtcbiAgICAvLyAgICAgLy8gVGhlIEF1dGhDcmVkZW50aWFsIHR5cGUgdGhhdCB3YXMgdXNlZC5cbiAgICAvLyAgICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbUVycm9yKGVycm9yKTtcbiAgICAvLyAgICAgLy8gLi4uXG4gICAgLy8gICB9KTtcbiAgICAvLy8vL1xuICAgIC8vLy92ZXJzaW9uIDEgZnJvbSB5b3UgdG9vYlxuICAgIC8vIGZpcmViYXNlXG4gICAgLy8gICAuYXV0aCgpXG4gICAgLy8gICAuc2lnbkluV2l0aFBvcHVwKG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpKVxuICAgIC8vICAgLnRoZW4oKHVzZXJDcmVkKSA9PiB7XG4gICAgLy8gICAgIGlmICh1c2VyQ3JlZCkge1xuICAgIC8vICAgICAgIHNldEF1dGgodHJ1ZSk7XG4gICAgLy8gICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYXV0aFwiLCBcInRydWVcIik7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0pO1xuICAgIC8vLy9WZXJzaW9uIDJcbiAgICAvLyBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpXG4gICAgLy8gICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoXCJJbiB0aGVuIGJsb2NrIG9mIGdvb2dsZSBhdXRoXCIpO1xuICAgIC8vICAgICAvLyBUaGlzIGdpdmVzIHlvdSBhIEdvb2dsZSBBY2Nlc3MgVG9rZW4uIFlvdSBjYW4gdXNlIGl0IHRvIGFjY2VzcyB0aGUgR29vZ2xlIEFQSS5cbiAgICAvLyAgICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICAgIC8vICAgICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gICAgLy8gICAgIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICAgIC8vICAgICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiZ29vZ2xlIHVzZXI6IFwiLCB1c2VyKTtcbiAgICAvLyAgIH0pXG4gICAgLy8gICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgLy8gICAgIC8vIEhhbmRsZSBFcnJvcnMgaGVyZS5cbiAgICAvLyAgICAgY29uc29sZS5lcnJvcihcIkluIGNhdGNoIGJsb2NrIG9mIGdvb2dsZSBhdXRoXCIpO1xuICAgIC8vICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAvLyAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBzaWduT3V0KGF1dGgpO1xuICAgIHNldFNob3dGb3JtKHRydWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIDxSb3c+XG4gICAgICAgIDxDb2wgc209XCIxMlwiIG1kPXt7IHNpemU6IDUsIG9mZnNldDogMyB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICA8aDIgc3R5bGU9e3sgcGFkZGluZ1RvcDogMzAsIHBhZGRpbmdMZWZ0OiAzMCB9fT5Mb2cgSW48L2gyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJ3cmFwcGVyXCI+XG4gICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhlcnJvcikubGVuZ3RoICE9PSAwICYmXG4gICAgICAgICAgICAgICAgZXJyb3IuY29uc3RydWN0b3IgPT09IE9iamVjdCAmJlxuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UubWFwKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZXJyb3IubWVzc2FnZXNbMF0uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxMCB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPXt7IGNvbG9yOiBcInJlZFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Vycm9yLm1lc3NhZ2VzWzBdLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICB7c2hvd0Zvcm0gPyAoXG4gICAgICAgICAgICAgICAgPEZvcm0+XG4gICAgICAgICAgICAgICAgICA8ZmllbGRzZXQgZGlzYWJsZWQ9e2xvYWRpbmd9PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbD5FbWFpbDo8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DaGFuZ2U9eyhldmVudCkgPT4gb25DaGFuZ2UoZXZlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2dpbkVtYWlsKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkZW50aWZpZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiA1MCwgZm9udFNpemU6IFwiMS4yZW1cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMzAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPExhYmVsPlBhc3N3b3JkOjwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNoYW5nZT17KGV2ZW50KSA9PiBvbkNoYW5nZShldmVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldExvZ2luUGFzc3dvcmQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogNTAsIGZvbnRTaXplOiBcIjEuMmVtXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+Rm9yZ290IFBhc3N3b3JkPzwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+ICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZsb2F0OiBcInJpZ2h0XCIsIHdpZHRoOiAxMjAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthdXRoZW50aWNhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGxvZ2luKGRhdGEuaWRlbnRpZmllciwgZGF0YS5wYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKFwiSW4gbG9naW4gQnV0dG9uLiByZXMuZGF0YS51c2VyOiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS51c2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgIC8vIHNldCBhdXRoZWQgVXNlciBpbiBnbG9iYWwgY29udGV4dCB0byB1cGRhdGUgaGVhZGVyL2FwcCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgYXBwQ29udGV4dC5zZXRVc2VyKHJlcy5kYXRhLnVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIFwibG9naW4gZnVuIGNhdGNoIGJsb2NrLCBzb21ldGhpbmcgaXMgd3Jvbmc6IFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgLy9zZXRFcnJvcihlcnJvci5yZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Lyoge2xvYWRpbmcgPyBcIkxvYWRpbmcuLi4gXCIgOiBcIlN1Ym1pdFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgU3VibWl0XG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtsb2dpbldpdGhHb29nbGV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9naW4gd2l0aCBHb29nbGVcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGg0PlRoYW5rIHlvdSBmb3IgbG9nZ2luZyBpbiEgPC9oND5cbiAgICAgICAgICAgICAgICAgIDxoNT5Zb3UgYXJlIG5vdyBzaWduZWQgaW4gYXMge2xvZ2luRW1haWx9PC9oNT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgZmxvYXQ6IFwicmlnaHRcIiwgd2lkdGg6IDEyMCB9fVxuICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtsb2dvdXR9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIExvZyBPdXRcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7ZXJyb3JNc2cgJiYgPGg0PntlcnJvck1zZ308L2g0Pn1cbiAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Db2w+XG4gICAgICA8L1Jvdz5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLnBhcGVyIHtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDBweCByZ2JhKDAsIDAsIDAsIDAuMiksXG4gICAgICAgICAgICAgIDBweCAxcHggMXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgICAgICAgICAwcHggMnB4IDFweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA5MHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAubm90aWZpY2F0aW9uIHtcbiAgICAgICAgICAgIGNvbG9yOiAjYWIwMDNjO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMjBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTk2ZjM7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1cy10b3A6IDZweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLndyYXBwZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCAzMHB4IDIwcHggMzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBhIHtcbiAgICAgICAgICAgIGNvbG9yOiBibHVlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltZyB7XG4gICAgICAgICAgICBtYXJnaW46IDE1cHggMzBweCAxMHB4IDUwcHg7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW47XG4iXX0= */\\n/*@ sourceURL=/Users/ilyaflaks/Desktop/Boot Camps/MIT xPro/back-end-part3/Restauraunt-App/app/pages/login.js */\"));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/ilyaflaks/Desktop/Boot Camps/MIT xPro/back-end-part3/Restauraunt-App/app/pages/login.js"],"names":["React","useState","useEffect","useContext","useRouter","Container","Row","Col","Button","Form","FormGroup","Label","Input","AppContext","signInWithEmailAndPassword","onAuthStateChanged","signOut","GoogleAuthProvider","signInWithPopup","getAuth","signInWithRedirect","getRedirectResult","Login","props","data","updateData","identifier","password","loading","setLoading","error","setError","router","appContext","loginEmail","setLoginEmail","loginPassword","setLoginPassword","errorMsg","setErrorMsg","success","setSuccess","showForm","setShowForm","user","setUser","isAuthenticated","auth","currentUser","console","log","authenticate","message","provider","loginWithGoogle","then","result","credential","credentialFromResult","token","accessToken","catch","errorCode","code","errorMessage","email","customData","credentialFromError","logout","size","offset","paddingTop","paddingLeft","Object","entries","length","constructor","map","messages","id","marginBottom","color","event","target","value","height","fontSize","float","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n} from \"reactstrap\";\n//import { login } from \"../components/auth\";\nimport AppContext from \"../components/context\";\nimport {\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  GoogleAuthProvider,\n  signInWithPopup,\n  getAuth,\n  signInWithRedirect,\n  getRedirectResult,\n} from \"firebase/auth\";\n//import firebase from \"firebase/app\";\n\n////this works for log in with email and pw.Commented out for now\n//import { auth } from \"../components/firebase-config\";\n\nfunction Login(props) {\n  const [data, updateData] = useState({ identifier: \"\", password: \"\" });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const router = useRouter();\n  const appContext = useContext(AppContext);\n  const [loginEmail, setLoginEmail] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [success, setSuccess] = useState(\"false\");\n  const [showForm, setShowForm] = useState(true);\n\n  // useEffect(() => {\n  //   if (appContext.isAuthenticated) {\n  //     router.push(\"/\"); // redirect if you're already logged in\n  //   }\n  // }, []);\n\n  const { user, setUser, isAuthenticated } = appContext;\n  const auth = getAuth();\n  onAuthStateChanged(auth, (currentUser) => {\n    console.log(\"something changed in Auth State\");\n    setUser(currentUser);\n  });\n\n  const authenticate = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(\n        auth,\n        loginEmail,\n        loginPassword\n      );\n      console.log(\"inside try block, things are good\");\n\n      console.log(user);\n      setErrorMsg(\"\");\n      setShowForm(false);\n    } catch (error) {\n      console.log(\"inside catch block, things are bad\");\n\n      console.log(error.message);\n      setErrorMsg(error.message);\n    }\n  };\n\n  const provider = new GoogleAuthProvider();\n  //  const authApp = getAuth();\n\n  // if (typeof window !== \"undefined\") {\n  //   // browser code\n\n  //   window.dataLayer = window.dataLayer || [];\n  //   function gtag() {\n  //     dataLayer.push(arguments);\n  //   }\n  //   gtag(\"js\", new Date());\n\n  //   gtag(\"config\", \"OUR_GA_ID\", { cookie_flags: \"SameSite=None;Secure\" });\n  // }\n  const loginWithGoogle = () => {\n    signInWithRedirect(auth, provider);\n    getRedirectResult(auth)\n      .then((result) => {\n        console.log(\"Inside then block\");\n        // This gives you a Google Access Token. You can use it to access Google APIs.\n        const credential = GoogleAuthProvider.credentialFromResult(result);\n        const token = credential.accessToken;\n\n        // The signed-in user info.\n        const user = result.user;\n      })\n      .catch((error) => {\n        console.log(\"Inside catch block\");\n        // Handle Errors here.\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        // The email of the user's account used.\n        const email = error.customData.email;\n        // The AuthCredential type that was used.\n        const credential = GoogleAuthProvider.credentialFromError(error);\n        // ...\n      });\n    //version 3, my fav\n    // signInWithPopup(auth, provider)\n    //   .then((result) => {\n    //     console.log(\"Inside then block\");\n    //     // This gives you a Google Access Token. You can use it to access the Google API.\n    //     const credential = GoogleAuthProvider.credentialFromResult(result);\n    //     console.log(\"Icredential\");\n    //     console.log(credential);\n    //     const token = credential.accessToken;\n    //     console.log(\"token\");\n    //     console.log(token);\n    //     // The signed-in user info.\n    //     const user = result.user;\n    //     console.log(\"user\");\n    //     console.log(user);\n    //     // ...\n    //   })\n    //   .catch((error) => {\n    //     console.log(\"Inside the catch block\");\n    //     // Handle Errors here.\n    //     const errorCode = error.code;\n    //     const errorMessage = error.message;\n    //     // The email of the user's account used.\n    //     const email = error.customData.email;\n    //     // The AuthCredential type that was used.\n    //     const credential = GoogleAuthProvider.credentialFromError(error);\n    //     // ...\n    //   });\n    /////\n    ////version 1 from you toob\n    // firebase\n    //   .auth()\n    //   .signInWithPopup(new firebase.auth.GoogleAuthProvider())\n    //   .then((userCred) => {\n    //     if (userCred) {\n    //       setAuth(true);\n    //       window.localStorage.setItem(\"auth\", \"true\");\n    //     }\n    //   });\n    ////Version 2\n    // signInWithPopup(auth, provider)\n    //   .then((result) => {\n    //     console.error(\"In then block of google auth\");\n    //     // This gives you a Google Access Token. You can use it to access the Google API.\n    //     const credential = GoogleAuthProvider.credentialFromResult(result);\n    //     const token = credential.accessToken;\n    //     // The signed-in user info.\n    //     const user = result.user;\n    //     console.log(\"google user: \", user);\n    //   })\n    //   .catch((error) => {\n    //     // Handle Errors here.\n    //     console.error(\"In catch block of google auth\");\n    //     console.error(error);\n    //   });\n  };\n\n  const logout = async () => {\n    await signOut(auth);\n    setShowForm(true);\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col sm=\"12\" md={{ size: 5, offset: 3 }}>\n          <div className=\"paper\">\n            <div className=\"header\">\n              <h2 style={{ paddingTop: 30, paddingLeft: 30 }}>Log In</h2>\n            </div>\n            <section className=\"wrapper\">\n              {Object.entries(error).length !== 0 &&\n                error.constructor === Object &&\n                error.message.map((error) => {\n                  return (\n                    <div\n                      key={error.messages[0].id}\n                      style={{ marginBottom: 10 }}\n                    >\n                      <small style={{ color: \"red\" }}>\n                        {error.messages[0].message}\n                      </small>\n                    </div>\n                  );\n                })}\n              {showForm ? (\n                <Form>\n                  <fieldset disabled={loading}>\n                    <FormGroup>\n                      <Label>Email:</Label>\n                      <Input\n                        // onChange={(event) => onChange(event)}\n                        onChange={(event) => {\n                          setLoginEmail(event.target.value);\n                        }}\n                        name=\"identifier\"\n                        style={{ height: 50, fontSize: \"1.2em\" }}\n                      />\n                    </FormGroup>\n                    <FormGroup style={{ marginBottom: 30 }}>\n                      <Label>Password:</Label>\n                      <Input\n                        // onChange={(event) => onChange(event)}\n                        onChange={(event) => {\n                          setLoginPassword(event.target.value);\n                        }}\n                        type=\"password\"\n                        name=\"password\"\n                        style={{ height: 50, fontSize: \"1.2em\" }}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      {/* <span>\n                      <a href=\"\">\n                        <small>Forgot Password?</small>\n                      </a>\n                    </span> */}\n                      <Button\n                        style={{ float: \"right\", width: 120 }}\n                        color=\"primary\"\n                        onClick={authenticate}\n                        // onClick={() => {\n                        //   setLoading(true);\n                        //   login(data.identifier, data.password)\n                        //     .then((res) => {\n                        //       setLoading(false);\n                        //       console.log(\"In login Button. res.data.user: \");\n                        //       console.log(res.data.user);\n                        //       // set authed User in global context to update header/app state\n                        //       appContext.setUser(res.data.user);\n                        //     })\n                        //     .catch((error) => {\n                        //       console.log(\n                        //         \"login fun catch block, something is wrong: \"\n                        //       );\n                        //       console.log(error);\n                        //       //setError(error.response.data);\n                        //       setLoading(false);\n                        //     });\n                        // }}\n                      >\n                        {/* {loading ? \"Loading... \" : \"Submit\"}\n                         */}\n                        Submit\n                      </Button>\n                      <button onClick={loginWithGoogle}>\n                        Login with Google\n                      </button>\n                    </FormGroup>\n                  </fieldset>\n                </Form>\n              ) : (\n                <div>\n                  <h4>Thank you for logging in! </h4>\n                  <h5>You are now signed in as {loginEmail}</h5>\n                  <Button\n                    // style={{ float: \"right\", width: 120 }}\n                    color=\"primary\"\n                    onClick={logout}\n                  >\n                    Log Out\n                  </Button>\n                </div>\n              )}\n              {errorMsg && <h4>{errorMsg}</h4>}\n            </section>\n          </div>\n        </Col>\n      </Row>\n      <style jsx>\n        {`\n          .paper {\n            border: 1px solid lightgray;\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n            border-radius: 6px;\n            margin-top: 90px;\n          }\n          .notification {\n            color: #ab003c;\n          }\n          .header {\n            width: 100%;\n            height: 120px;\n            background-color: #2196f3;\n            margin-bottom: 30px;\n            border-radius-top: 6px;\n          }\n          .wrapper {\n            padding: 10px 30px 20px 30px !important;\n          }\n          a {\n            color: blue !important;\n          }\n          img {\n            margin: 15px 30px 10px 50px;\n          }\n        `}\n      </style>\n    </Container>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}